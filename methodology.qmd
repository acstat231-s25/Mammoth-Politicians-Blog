---
title: "About"
author: "Rachel Hubley"
editor_options: 
  chunk_output_type: console
---

```{r}
#| label: setup
#| include: false

# Improve digit display and NA display for kable tables
options(scipen = 1, knitr.kable.NA = "")

# Load necessary packages
library(tidyverse)
library(ggplot2)
library(plotly)

```

# About

This blog analyzes U.S. presidential inaugural speeches to track changes in language, sentiment, and readability over time. Using the AFINN sentiment lexicon, Flesch Reading Ease formula, and Flesch-Kincaid formula, we examine how emotional tone and speech complexity have shifted from 1789 to 2009.

## Methodology

## Data Collection & Wrangling Description
The president speeches were scraped from [Avalon Project at Yale Law School](https://avalon.law.yale.edu/subject_menus/inaug.asp). 

After scraping, we removed stop words, as well as "fellow", "citizens", and "people" due to repetition.

Addition, President Van Buren, President Buchanan, President Garfield, and President Coolidge are missing from the dataset due to unavailable transcripts.

### Sentiment Analysis
For the **Sentiment Analysis Over Time**, we calculated the *average sentiment score* (per word) for each speech to account for length of speech and to allow for fair comparisons across speeches. Average sentiment score = (total sentiment) / (number of words recognized by AFINN). The AFINN Lexicon used in this sentiment analysis assigns identified words with a value from -5 to 5, with negative scores representing negative sentiment and positive scores representing positive sentiment. For the *bigrams by era

For the **Normalized Bigram Frequency by Era**, we defined six eras: "Revolution & Early Republic," "Expansion, Reform & Civil War," "Reconstruction to WWI," "Interwar & WWII," "Postwar & Civil Rights," and "Post-Watergate to Obama." Then,




# 1. Get top 8 biwords per era with total count > 2
top_biwords_era <- bigram_count |> 
  group_by(era, word1, word2) |> 
  summarize(total = sum(n), .groups = "drop") |> 
  filter(total > 2) |> 
  group_by(era) |> 
  slice_max(total, n = 8, with_ties = FALSE) |> 
  ungroup() |> 
  mutate(
    clean_biword = paste(word1, word2),
    biword = reorder_within(clean_biword, total, era)
  )

# 2. Mark biwords that appear in more than one era
repeated_biwords <- top_biwords_era |> 
  count(clean_biword) |> 
  filter(n > 1) |> 
  pull(clean_biword)

top_biwords_era <- top_biwords_era |> 
  mutate(
    shared = clean_biword %in% repeated_biwords,
    color = ifelse(shared, "#B22234", "steelblue")
  )

# 3. Normalize counts by total bigrams per era
total_bigrams_per_era <- bigram_count |> 
  group_by(era) |> 
  summarize(era_total = sum(n), .groups = "drop")

top_biwords_era <- top_biwords_era |> 
  left_join(total_bigrams_per_era, by = "era") |> 
  mutate(prop = total / era_total)

save(top_biwords_era, 
     file = "data/top_biwords_era.Rdata")


```




## Limitations

## Future Work

## Appendix



```{r}
#| label: fig-sentiment
#| fig-cap: "AFINN Sentiment Scores of Inaugural Speeches"

```


